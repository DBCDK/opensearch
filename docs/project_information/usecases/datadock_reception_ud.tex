\documentclass{article}
\usepackage{a4wide}
\usepackage[utf8]{inputenc} %             be able to use danish letters
\usepackage[danish]{babel} %                and danish macros
\usepackage{url}                            %, hyperref} hyperref makes clickable refs.
\usepackage{amsmath}
\renewcommand\sfdefault{phv}%               use helvetica for sans serif
\renewcommand\familydefault{\sfdefault}%    use sans serif by default
\setlength{\parskip}{2mm plus1mm minus1mm}% a bit of (rubber) space between paragraphs

\author{Lars Vensild Hørnell \and Søren Mollerup \and Steen
  Manniche\thanks{\{lvh, shm, stm\}\@dbc.dk}}
\date{\today}
\title{Usecase: Datadock- Reception uddata\thanks{Dette dokument kan hentes fra \texttt{svn://svn.dbc.dk/OpenSearch/project\_information}}}

\begin{document}

\maketitle

\newpage

\tableofcontents
% Det er hensigten, at alle informationer der er i < eller > tegn skal
% slettes inden dokumentet bygges

\section{Use case beskrivelse}
Denne use case beskriver hvorledes receptionsdelen af datadocken skal håndtere kommunikationen med NEP'en nærmere bestemt hvorledes uddata håndteres.

Datadockens receptionsdel skal sende svar til brugeren ved succesfuld indlæsning eller ved fejl der angår brugerens data. Ved succesfuld indlæsning returneres et estimat til brugeren, men receptionen kan også propagere forskellige fejlmeddelelser vedrørende data, der er relevante for brugeren tilbage til denne. Denne kommunikation sker gennem z39.50 protokollen.  

\section{Type}
Konkret

\section{Relationer}
Alle de andre dele af
datadocken. ved succes, estimeringsdelen. Ved fejl skal receptionen
sørge for at fejlmeddelelsen bliver propageret tilbage til brugeren
igennem z39.50 protokollen.

\section{Aktører}
\begin{itemize}
\item NEP
\item Estimeringsrutine
\end{itemize}

\section{Forudsætninger}
Der skal være skabt kontakt med en NEP, og en succesfuld indlæsning,
validering og estimering af processeringstid af data eller en fejl skal være indtruffet.

\section{Initiering}
Ved succesfuld indlæsning og validering laves et estimat, hvorefter receptionsdelen igangsætter kommunikation med Nep'en.
Ved en exception der vedrører brugeren under databehandling, igangsættes kommunikation med NEP'en gennem receptionen.  

\section{Beskrivelse}


\begin{itemize}
\item Der skabes en forbindelse med en NEP.
  smider [NEPConnectionError]
\item Estimatet eller fejlbeskeden pakkes ind i z39.50 protokollen. 
\item Svar sendes til brugeren gennem NEP'en.
  smider [NEPConnectionError]
\end{itemize}

\section{Terminationstilstande}

\subsection{Succes}
Estimatet eller fejlbeskeden er sendt til brugeren.

\subsection{Exception}

\begin{itemize}
\item \texttt{[NEPConnectionError]}
  Smides hvis der ikke kan skabes forbindelse til en NEP, eller hvis aflevering af estimat eller fejlmeddelelsen ikke fuldføres.
\end{itemize}

\section{Status på use case}
Det skal afklares nærmere hvordan kommunikation med NEP'en skal foregå, og vi skal identificere relevante z39.50 felter.


\end{document}
