\documentclass{article}
\usepackage{a4wide}
\usepackage[utf8]{inputenc} %             be able to use danish letters
\usepackage[danish]{babel} %                and danish macros
\usepackage{url}                            %, hyperref} hyperref makes clickable refs.
\usepackage{amsmath}
\renewcommand\sfdefault{phv}%               use helvetica for sans serif
\renewcommand\familydefault{\sfdefault}%    use sans serif by default
\setlength{\parskip}{2mm plus1mm minus1mm}% a bit of (rubber) space between paragraphs

\author{Lars Vensild Hørnell \and Søren Mollerup \and Steen
  Manniche\thanks{\{lvh, shm, stm\}\@dbc.dk}}
\date{\today}
\title{Use case: datadock- Reception inddata\thanks{Dette dokument kan hentes fra \texttt{svn://svn.dbc.dk/OpenSearch/project\_information}}}

\begin{document}

\maketitle

\newpage

\tableofcontents
% Det er hensigten, at alle informationer der er i < eller > tegn skal
% slettes inden dokumentet bygges

\section{Use case beskrivelse}

Denne use case beskriver hvorledes receptionsdelen af datadocken skal
håndtere kommunikationen med NEP'en nærmere bestemt hvorledes inddata
håndteres.

Datadockens receptionsdel skal kunne modtage z39.50 requests og
transformere den indsendte z39.50 data til en data og metadata del,
der kan valideres af valideringsdelen.

\section{Type}
Konkret

\section{Relationer}

Denne use case er relateret til datadock\_validerings use casen.

\section{Aktører}

\begin{itemize}
\item NEP
\item Datadockens valideringsrutine
\end{itemize}

\section{Forudsætninger}
Der skabes kontakt fra en NEP, således at indlæsning af data kan begynde. 

\section{Initiering}
Reception af data starter ved et z39.50 request, der sætter indlæsning
af data fra brugeren i gang.


\section{Beskrivelse}


\begin{itemize}
\item Der skabes en forbindelse med en NEP.
  smider [NEPConnectionError]
\item Data indlæses gennem z39.50 protokollen
\item Data pakkes ud, data og metadata isoleres
  smider [UnknownFormatException]
\item Gives videre til valideringsdelen.
\end{itemize}

\section{Terminationstilstande}

\subsection{Succes}
Hvis receptionen af data bliver gennemført succesfuldt, bliver
datadockens valideringsrutine aktivereret med det data der er modtaget.

\subsection{Exception}
\begin{itemize}
\item [NEPConnectionError]
  Smides hvis der ikke kan skabes forbindelse til en NEP.  
\item [UnknownFormatException] 
  Smides ved udpakning af data, hvis dataformatet er korrupt eller
  ukendt. fejlen skal propageres tilbage til brugeren, gennem z39.50
  protokollen.
\end{itemize}

\section{Status på use case}
Det skal afklares nærmere hvordan kommunikation med NEP'en skal
foregå, og vi skal identificere relevante z39.50 felter.


\end{document}
