<?xml version="1.0" encoding="UTF-8"?>
<!-- The XMLDCHarvester relies on that there is a pid
     generated right now by the ForceFedoraPid plugin so ForceFedoraPid
     must be run before XMLDCHarvester -->
<workflows xmlns="info:opensearch.dbc.dk#">
  <workflow format="faktalink" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="isSubjectDescriptionOf"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="forfatterw" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store">
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="isAuthorDescriptionOf"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="littsiden" submitter="150005">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store">
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="isReviewOf"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="katalog" submitter="775100">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasReview"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasArticle"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasAuthorDescription"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="ebsco" submitter="775100">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="ebrary" submitter="775100">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="katalog" submitter="710100">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasReview"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasArticle"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasAuthorDescription"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="matvurd" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="isReviewOf"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="dr_atlas" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="anmeld" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="isReviewOf"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="artikler" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
        <arg name="javascript" value="xmldcharvester_beta.js"/>
        <arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
        <arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="isPartOfManifestation"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="dr_bonanza" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
  </workflow>
  <workflow format="louisiana" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
  </workflow>
  <workflow format="dsd" submitter="dbc">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
  </workflow>
  <workflow format="dbc" submitter="150013">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromMarc"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
	<arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
	<arg name="javascript" value="simple_relation.js"/>
	<arg name="entryfunction" value="hasReview"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasArticle"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasAuthorDescription"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="pg" submitter="150013">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
	<arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
	<arg name="javascript" value="simple_relation.js"/>
	<arg name="entryfunction" value="hasReview"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasArticle"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
        <arg name="javascript" value="simple_relation.js"/>
        <arg name="entryfunction" value="hasAuthorDescription"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="nmalbum" submitter="150014">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.MarcxchangeWorkRelation">
      <args>
	<arg name="javascript" value="workmatch_relation_functions.js"/>
	<arg name="searchfunction" value="generateSearchPairs"/>
	<arg name="matchfunction" value="checkmatch"/>
	<arg name="createobjectfunction" value="makeworkobject"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
	<arg name="javascript" value="simple_relation.js"/>
	<arg name="entryfunction" value="hasTrack"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="nmtrack" submitter="150014">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
	<arg name="javascript" value="simple_relation.js"/>
	<arg name="entryfunction" value="isPartOfAlbum"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.SimpleGenericRelation">
      <args>
	<arg name="javascript" value="simple_relation.js"/>
	<arg name="entryfunction" value="hasSoundClip"/>
      </args>
    </plugin>
  </workflow>
  <workflow format="nmcover" submitter="150014">
    <plugin class="dk.dbc.opensearch.plugins.ForceFedoraPid"/>
    <plugin class="dk.dbc.opensearch.plugins.XMLDCHarvester">
      <args>
	<arg name="javascript" value="xmldcharvester_beta.js"/>
	<arg name="entryfunction" value="dcFromDkabm"/>
      </args>
    </plugin>
    <plugin class="dk.dbc.opensearch.plugins.Store"/>
  </workflow>

</workflows>
